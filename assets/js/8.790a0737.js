(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{278:function(e,a,t){e.exports=t.p+"assets/img/webpack.636af25f.png"},279:function(e,a,t){e.exports=t.p+"assets/img/vite.05db33a8.png"},305:function(e,a,t){"use strict";t.r(a);var i=t(10),v=function(e){e.options.__data__block__={mermaid_382ee145:"  sequenceDiagram\n  modules ->> webpack: 将所有模块打包\n  webpack ->> bundle: 生成bundle\n  bundle ->> devServer: 直接请求\n  devServer --\x3e> webpack: 直接返回结果\n",mermaid_382ee14d:"sequenceDiagram\nvite ->> devServer: 直接启动服务器\n页面 ->> devServer: 请求模块\ndevServer ->> module: 根据需要的模块，按需向module发送请求\nmodule --\x3e> 页面: 模块编译，返回结果\n"}},l=Object(i.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"_1-webpack-和-vite-原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-webpack-和-vite-原理"}},[e._v("#")]),e._v(" 1.Webpack 和 vite 原理")]),e._v(" "),a("ul",[a("li",[e._v("wepack\n"),a("img",{attrs:{src:t(278),alt:""}})])]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee145",graph:e.$dataBlock.mermaid_382ee145}}),a("ul",[a("li",[e._v("vite\n"),a("img",{attrs:{src:t(279),alt:""}})])]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee14d",graph:e.$dataBlock.mermaid_382ee14d}}),a("h2",{attrs:{id:"区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#区别"}},[e._v("#")]),e._v(" 区别")]),e._v(" "),a("ul",[a("li",[e._v("打包原理\nvite: 基于浏览器器原生 ES Module，利用浏览器器解析 import，服务器端按需编译返回。打包基于 rollup + esbuild ，由 go 语言编写\nwebpack: 先将模块统一打包成 bundle，再通过编译、解析成浏览器认识的语言。使用 babel 打包 js 语言。（也可以用 esbuild，但是很麻烦）")])]),e._v(" "),a("h2",{attrs:{id:"优缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优缺点"}},[e._v("#")]),e._v(" 优缺点")]),e._v(" "),a("p",[e._v("vite")]),e._v(" "),a("ul",[a("li",[e._v("优点\n"),a("ol",[a("li",[e._v("开发环境，无需打包，快速冷启动")]),e._v(" "),a("li",[e._v("无需分析模块依赖，编译代码。")]),e._v(" "),a("li",[e._v("按需加载，不用等整个程序启动")]),e._v(" "),a("li",[e._v("vite 基于 go 语言，纳秒级别速度")]),e._v(" "),a("li",[e._v("轻量快速的热重载（HMR），模块改变只需要重新请求该模块即可。而不是像 webpack 一样重新编译该模块的所有依赖")])])]),e._v(" "),a("li",[e._v("缺点\n"),a("ol",[a("li",[e._v("非现代浏览器不能运行，即浏览器要支持 ES Module 语法")]),e._v(" "),a("li",[e._v("不能识别 CommonJS 语法")]),e._v(" "),a("li",[e._v("生产环境 esbuild 构建对于 css 和代码分割不够友好")]),e._v(" "),a("li",[e._v("生态、插件没有 webpack 丰富")]),e._v(" "),a("li",[e._v("直接扔给浏览器，引入的时候，首次加载比较慢")])])])]),e._v(" "),a("h2",{attrs:{id:"webpack-构建流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-构建流程"}},[e._v("#")]),e._v(" Webpack 构建流程")]),e._v(" "),a("ol",[a("li",[e._v("初始化：启动构建，读取与合并配置参数，加载 Plugin，实例化 Compiler")]),e._v(" "),a("li",[e._v("编译：从 Entry 出发，针对每个 Module 串行调用对应的 Loader 去翻译文件的内容，再找到该 Module 依赖的 Module，递归地进行编译处理")]),e._v(" "),a("li",[e._v("输出：将编译后的 Module 组合成 Chunk，将 Chunk 转换成文件，输出到文件系统中")])])],1)}),[],!1,null,null,null);"function"==typeof v&&v(l);a.default=l.exports}}]);